<% layout('layouts/boilerplate')%>
    <h1>Edit Recipe <%=recipe.name%>
    </h1>
    <form class="row gy-2 gx-3 align-items-center" action="/recipes/<%=recipe._id%>?_method=PUT" method="POST">
        <div class="mb-3 col-auto">
            <label for="name">Name</label>
            <input type="text" id="name" name="recipe[name]" value="<%=recipe.name%>">
        </div>
        <div class="mb-3 col-auto">
            <label for="recipe">Recipe:</label>
            <input type="text" id="recipe" name="recipe[recipe]" value="<%=recipe.recipe%>">
        </div>
        <div class="mb-3 col-auto">
            <label for="minTime">min time to make</label>
            <input type="number" id="minTime" name="recipe[minTime]" value="<%=recipe.minTime%>" min=0>
        </div>
        <div class="mb-3 col-auto">
            <label for="maxTime">max time to make</label>
            <input type="number" id="maxTime" name="recipe[maxTime]" value="<%=recipe.maxTime%>" min=0>
        </div>
        <div class="mb-3 col-auto">
            <label for="createdDate">date made</label>
            <input type="date" id="createdDate" name="recipe[createdDate]" value="<%=formatDate(recipe.createdDate)%>">
        </div>
        <div class="mb-3 col-auto">
            <button class="btn btn-success">Update Recipe</button>
        </div>
        <div class="mb-3 col-auto">
            <h2>Ingredients</h2>
            <% existingIngredientsArray.forEach(function(ingredient, i) {%>
                <div class="col-auto form-check-inline">
                    <ul>
                        <li>
                            <%=ingredient.name%>
                                <%i++%>
                                    <%=i%>
                        </li>
                        <div class="form-check-inline">
                            <input type="checkbox" id="ing-<%=i%>" name="removeIngs[]" value="<%=ingredient._id%>">
                        </div>
                        <label for="ing-<%=i%>">Remove Ingredient <%=ingredient.name%> from Recipe <%=recipe.name%>
                        </label>
                    </ul>
                </div>
                <% }) %>
        </div>
    </form>
    <a class="btn btn-primary btn-lg" href="/recipes/<%= recipe._id%>">Back To <%=recipe.name%> </a>