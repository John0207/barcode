<% layout('layouts/boilerplate')%>
    <h1>Edit Recipe</h1>
    <form action="/recipes/<%=recipe._id%>?_method=PUT" method="POST">
        <div>
            <label for="name">Name</label>
            <input type="text" id="name" name="recipe[name]" value="<%=recipe.name%>">
        </div>
        <div>
            <label for="recipe">Recipe:</label>
            <input type="text" id="recipe" name="recipe[recipe]" value="<%=recipe.recipe%>">
        </div>
        <div>
            <label for="minTime">min time to make</label>
            <input type="number" id="minTime" name="recipe[minTime]" value="<%=recipe.minTime%>" min=1>
        </div>
        <div>
            <label for="maxTime">max time to make</label>
            <input type="number" id="maxTime" name="recipe[maxTime]" value="<%=recipe.maxTime%>" min=1>
        </div>
        <div>
            <label for="createdDate">date made</label>
            <input type="date" id="createdDate" name="recipe[createdDate]" value="<%=formatDate(recipe.createdDate)%>">
        </div>
        <button>Update Item</button>
        <h2>Ingredients</h2>
        <% existingIngredientsArray.forEach(function(ingredient, i) {%>

            <ul>
                <li>
                    <%=ingredient.name%>
                        <%i++%>
                            <%=i%>
                </li>
                <div class="form-check-inline">
                    <input type="checkbox" id="ing-<%=i%>" name="removeIngs[]" value="<%=ingredient._id%>">
                </div>
                <label for="ing-<%=i%>">Remove Ingredient <%=ingredient.name%> from Recipe <%=recipe.name%></label>
            </ul>
            <% }) %>
    </form>
    <a href="/recipes/<%= recipe._id%>">Back To recipe</a>